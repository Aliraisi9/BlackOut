
const players = [];
let currentPlayerIndex = 0;
let board = [];

const chanceDecks = {
    Red: [
    "تماس آخر شب؛ با یکی از مخاطبات تماس بگیر و تضاهر کن خیلی مستی!",
    "حس لامسه؛ با چشمای بسته یک چیزی بخور و حدس بزن چیه",
    "داستان سرایی کم؛ موضوع آخرین فیلم پرنی که دیدی",
    "زخم بستر نگیری؛ پاشو شیک بزن",
    "سوپرایزش کن؛ یا یکی از دوستات تماس بگیر و تضاهر کن برای آخر هفته یک پلن سنگین دارید!",
    "روم به دیوار؛ به انتخاب خودت یکی رو لپ دنس مهمون کن",
    "در اتاق خواب بازه؟؛ پوزیشن مورد علاقخ ات تو سکس رو نشون بده",
    "ستاره پورن شدی؛ صدای کارت رو اجرا کن",
    "خاطره بازی؛ یک عکس قدیکی از خودت نشون بده",
    "چجوری نخ بدم؛ یکی رو به انتخاب خودت ببوس",
    "هوا خیلی گرم شد!؛ یکی از لباس هات رو کم کن",
    "سوپر من امید شهر بود؛ یک شرت روی شلوارت بپوش",
    "غمگین به نظر میای؛ بغل دستی هات ۲۰ ثانیه قلقلکت میدن",
    "شهری بدون دست؛ بدون کمک از دستات یک چیزی بخور",
    "پول مهشید تموم شد؛ ابی شو تو کنسرت"
    ],
    Yellow: [
    "راننده کامیون خسته چی گوش میده؛ یک موزیک قدیمی بخون",
    "چشماتو ببینم؛ یک دقیقه کامل تو چشمای یکی به انتخاب خودت نگاه کن، اگه خندید شات میخوره!",
    "ورزش دشمن اعتیاده؛ ۱۰ تا بشین پاشو سرعتی",
    "فرار از باغ وحش؛ صدای بهترین حیوونی که میتونی تقلید کنی",
    "دیگه صداتو نمیشنویم؛ یک دور بازی اصلا حرف نزن از ایما و اشاره استفاده کن",
    "ادابازی؛ ادای یک شخص مشهور یا آشنا رو تقلید کن",
    "پیتزا زیر برج؛ یک دور بازی ایتالیایی حرف بزن",
    "یا شانس یا اقبال؛ اگه لباس زیر رنگی پوشیدی یک شات بخور",
    "دعوت شدی خندوانه؛ یک دقیقه وقت داری یکی از تو جمع به جک هات بخنده",
    "استعداد درخشان؛ یکی از استعداد های نحفته ات رو نشونمون بده",
    "خوش شانس ترین کیه؛ یکی قراره از تو کولی بگیره",
    "طوطی شو؛ حرف های بقیه رو تا یک دور تکرار کن",
    "خیال بازی؛ با یک نفر داستانی بساز و تا جایی که ممکنه ادامه بده",
    "مستند ساز شو؛ اتفاقات دور و برت رو مثل گوینده های مستند تعریف کن",
    "که کی کو؛ بین سه نفر هرکی تک بیاره شات میخوره"
    ],
    Blue: [
    "یکشنبه است؟؛ به یکی از فتیش هات اعتراف کن",
    "بعد از تو آرامش هم رفت؛ تا حالا مامان باباتو رو کار گرفتی؟",
    "ماه پشت ابر؛ تاحالا شده رو کسی کراش بزنی یا عاشق کسی بشی که نباید",
    "قصدت چی بوده؛ آخرین دروغت به جنس مخالف برای چی بوده",
    "نامرئی شدی؛ اولین کاری که میکنی چیه؟",
    "آب شدم تو زمین؛ شرمآورتین خاطره ات تو رابطه",
    "ابرقهرمان شدی؛ چه قدرتی رو برای خودت انتخاب میکنی",
    "شلیک آخر؛ یک گلوله بدون پیگیری رو به کی شلیک میکنی",
    "برای یک مشت دلار؛ توی جمع با کی اکانت اونلی فنز تشکیل میدی",
    "ای آدم زرنک؛ آخرین باری که توی یک جمع ادای مستارو در آوردی برای چی بوده",
    "این آخرین باره؛ کی خودارزایی کردی",
    "آهنربا؛ جذاب ترین شخص توی جمع غیر از خودت",
    "اکتشاف ذهن؛ همین الان داری به کی فکر میکتی",
    "افشاگری؛ عحیب ترین چیزی که تو گوشی رفیقت دیدی",
    "ای آدم متظاهر؛ تا حالا تو سکس تظاهر به ارزاشدن کردی"
    ],
    Green: [
    "یک چیز یاد گرفتم؛ کتاب یا فیلم محبوبت (محبوب ترین)", 
    "ترسیدم؛ از چه جیزی بیشتر از همه میترسی",
    "خجالت نکش؛ یک داستان خچالت آور تعریف کن",
    "بربری؛ چی باعث میشه از کوره در بری",
    "سوشی و ساکی؛ بدترین چیزی که بعنوان غذا خوردی",
    "یکم بخندیم؛ یک خاطره خنده دار تعریف کن",
    "ستاره ها نشون میدن؛ به فال و طالع بینی اعتقاد داری",
    "هسویام؛ با پول و زمان بینهایت چکار میکردی",
    "ماشین زمانت رو امتخان کن؛ با دلیل قانع کننده یکی از افراد جمع رو به گذشته بفرست",
    "به چه مناسبتی؛ با ارزش ترین هدیه ای که گرفتی",
    "یک شروع تازه؛ برای زندگی کجا رو انتخاب میکردی",
    "الگوت کیه؛ شخصیت تاریخی که دوست داشتی ببینیش",
    "دیت نایت؛ با کی توی جمع حاضری شام میری بیرون",
    "روباه مکار؛ تاحالا کسی رو به عمد به اشتباه انداختی",
    "پاچیدم رو زمین؛ خنده دار ترین خاطره روز مستی یا دراگ رو تعریف کن"
    ]
};

function shuffleDeck(deck) {
    for (let i = deck.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [deck[i], deck[j]] = [deck[j], deck[i]];
    }
}

function generateBoard() {
    board = [];
    for (let i = 0; i < 40; i++) {
    if (i === 0) {
        board.push({ color: "Start", value: 0 });
    } else {
        const colors = ["Red", "Blue", "Green", "Yellow"];
        const color = colors[Math.floor(Math.random() * colors.length)];
        const value = ["Red", "Blue"].includes(color) ? Math.floor(Math.random() * 3) + 4 : Math.floor(Math.random() * 3) + 1;
        board.push({ color, value });
    }
    }
}

function rollDice() {
    return Math.floor(Math.random() * 6) + 1 + Math.floor(Math.random() * 6) + 1;
}

function nextTurn() {
    if (players.length < 2) {
    alert("حداقل دو بازیکن وارد کنید.");
    return;
    }
    const player = players[currentPlayerIndex];
    const dice = rollDice();
    player.position = (player.position + dice) % board.length;
    const tile = board[player.position];

    const card = chanceDecks[tile.color]?.shift() || "کارت تمام شد!";
    if (chanceDecks[tile.color]) chanceDecks[tile.color].push(card);

    document.getElementById("result").innerText = `${player.name} روی خانه ${player.position} با رنگ ${tile.color} و عدد ${tile.value} ایستاد. کارت: ${card}`;
    currentPlayerIndex = (currentPlayerIndex + 1) % players.length;
}

function addPlayer() {
    const name = prompt("نام بازیکن را وارد کنید:");
    if (name) players.push({ name, position: 0 });
    document.getElementById("players").innerText = players.map(p => p.name).join("، ");
}

window.onload = function () {
    generateBoard();
    Object.values(chanceDecks).forEach(shuffleDeck);
}
